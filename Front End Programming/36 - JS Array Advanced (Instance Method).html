<!DOCTYPE html> 
<html lang="en"> 

<head> 
    <title>JS Array Advanced (Instance Method)</title> 
</head> 

<body> 
    <script> /* Each Data in Array (forEach) */
        console.log("------------------>>> Each Data in Array (forEach)");

        let arrEach = [1, 2, 3, 4, 5];

        // Syntax: array.forEach(function)

        arrEach.forEach(function (data, index, array) {
            console.log(data, index, array); // Output: 1 0 (5) [1, 2, 3, 4, 5]
        });                                  //         2 1 (5) [1, 2, 3, 4, 5]
                                             //         3 2 (5) [1, 2, 3, 4, 5]
                                             //         4 3 (5) [1, 2, 3, 4, 5]
                                             //         5 4 (5) [1, 2, 3, 4, 5]

        // The function inside "forEach" can accept three types of parameters.
        // The 1st parameter is each data in array.
        // The 2nd parameter is each index corresponding to each data in 1st parameter.
        // The 3rd parameter is the array where all the data are located.

        // This pattern of function can be applied to "almost all" the array methods that need to do the travesal on each data in an array.
        // For example every, some, filter, find, findIndex, findLast, findLastIndex and etc.
    </script>

    <script> /* Array Test Condition (every) */
        console.log("------------------>>> Array Test Condition (every)");

        let arrTest = [1, 2, 3, 4, 5];

        // It checks if all elements in the array satisfy a given condition. 
        // It returns true if all elements pass the test and false otherwise.
        // Syntax: array.some(condition)

        let runEvery = arrTest.every(function (data) {
            return data === 5;
        });

        let runEvery2 = arrTest.every(function (data) {
            return data <= 5;
        });

        console.log(runEvery);  // Not every data in "arrTest" equal to 5.        // Output: false
        console.log(runEvery2); // Every data in "arrTest" smaller or equal to 5. // Output: true
    </script>

    <script> /* Array Test Condition (some) */
        console.log("------------------>>> Array Test Condition (some)");

        let arrTest2 = [1, 2, 3, 4, 5];

        // It checks if at least one element in the array satisfies a given condition. 
        // It returns true if any element passes the test and false otherwise. 
        // Syntax: array.some(condition)

        let runSome = arrTest2.some(function (data) {
            return data === 6;
        });

        let runSome2 = arrTest2.some(function (data) {
            return data === 5;
        });

        console.log(runSome);  // Not some data in "arrTest2" equal to 6. // Output: false
        console.log(runSome2); // some data in "arrTest2" equal to 5.     // Output: true
    </script>

    <script> /* Array Filter (filter) */
        console.log("------------------>>> Array Filter (filter)");

        let arrFilter = [1, 2, 1, 2, 1];

        // It creates a new array containing all elements from the original array that satisfy a given condition. 
        // Syntax: array.filter(condition)

        let runFilter = arrFilter.filter(function (data) {
            return data === 1;
        });

        console.log(runFilter); // Output: (3) [1, 1, 1]
    </script>

    <script> /* Array Filter First Occurence Target (find & findIndex) */
        console.log("------------------>>> Array Filter First Occurence Target (find & findIndex)");

        let arrFirst = [5, 4, 1, 2, 3];

        // "find" returns the first element in an array that satisfy a given condition. 
        // Syntax: array.find(condition)

        let runFirst = arrFirst.find(function (data) {
            return data < 4;
        });

        console.log(runFirst); // Output: 1

        // "findIndex" returns the index of first element in an array that satisfy a given condition. 
        // Syntax: array.findIndex(condition)

        runFirst = arrFirst.findIndex(function (data) {
            return data < 4;
        });

        console.log(runFirst); // Output: 2
    </script>

    <script> /* Array Filter Last Occurence Target (findLast & findLastIndex) */
        console.log("------------------>>> Array Filter Last Occurence Target (findLast & findLastIndex)");

        let arrLast = [5, 4, 1, 2, 3];

        // "findLast" returns the last element in an array that satisfy a given condition. 
        // Syntax: array.findLast(condition)

        let runLast = arrLast.findLast(function (data) {
            return data < 4;
        });

        console.log(runLast); // Output: 3

        // "findLastIndex" returns the index of last element in an array that satisfy a given condition. 
        // Syntax: array.findLastIndex(condition)

        runLast = arrLast.findLastIndex(function (data) {
            return data < 4;
        });

        console.log(runLast); // Output: 4
    </script>

    <script> /* Array Map (map) */
        console.log("------------------>>> Array Map (map)");

        let arrMap = [1, 2, 3, 4, 5];

        // "map" creates a new array by applying a function to each element of the original array.
        // Syntax: array.map(function)

        let arrMapNew = arrMap.map(function (data) {
            return data * 2; // Double up all the data in "arrMap".
        });

        console.log(arrMapNew); // Output: (5) [2, 4, 6, 8, 10]
    </script>

    <script> /* Array Higher-Order Function (reduce & reduceRight) */
        console.log("------------------>>> Array Higher-Order Function (reduce) Syntax 1");

        let arrReduce = [1, 2, 3, 4, 5];

        // Syntax: reduce(function)

        let runReduce = function () {
            let temp = arrReduce.reduce(function (sum, data) { 
                // Function 1st Parameter (sum)  = Return Data (Initial is 1st data.)
                // Function 2nd Parameter (data) = Next Data (Initial is 2nd data.)
                console.log(sum, data);              
                return sum + data;                  
            });

            return temp;
        };

        let resultReduce = runReduce(); // sum = 1st Data, data = 2nd Data // Output: 1 2
                                        // sum = 1 + 2   , data = 3rd Data //         3 3
                                        // sum = 3 + 3   , data = 4rd Data //         6 4
                                        // sum = 6 + 4   , data = 5rd Data //         10 5
        console.log(resultReduce); // sum = 10 + 5 // Output: 15 

        arrReduce = [1];
        resultReduce = runReduce(); // No Output
        console.log(resultReduce);  // Output: 1
        // Directly return the only data inside array if there is only one data inside array.

        arrReduce = [];
     // resultReduce = runReduce(); // Error since there is no data inside array.

        console.log("------------------>>> Array Higher-Order Function (reduce) Syntax 2");

        // Syntax: reduce(function, initialValue)

        runReduce = function () {
            let temp = arrReduce.reduce(function (sum, data) { 
                console.log(sum, data);              
                return sum + data;                  
            }, 0); // Set the initial value as 0. Thus sum = 0;

            return temp;
        };
    
        arrReduce = [1, 2, 3, 4, 5];
        resultReduce = runReduce(); // sum = Initial Value, data = 1st Data // Output: 0 1
                                    // sum = 0 + 1        , data = 2nd Data //         1 2
                                    // sum = 1 + 2        , data = 3rd Data //         3 3
                                    // sum = 3 + 3        , data = 4rd Data //         6 4
                                    // sum = 6 + 4        , data = 5rd Data //         10 5
        console.log(resultReduce); // sum = 10 + 5 // Output: 15 

        arrReduce = [1];
        resultReduce = runReduce(); // sum = Initial Value, data = 1st Data // Output: 0 1
        console.log(resultReduce); // sum = 0 + 1 // Output: 1

        arrReduce = []; 
        resultReduce = runReduce(); // No Output
        console.log(resultReduce); // Output: 0
        // Since we had set the initial value to 0, thus it will return the initial value if there is no data in array.

        // Syntax: reduceRight(function, initialValue)
        // "reduceRight" same as "reduce" but it will start from right to left.
    </script>
</body> 

</html>