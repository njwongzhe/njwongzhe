<!DOCTYPE html> 
<html lang="en"> 

<head> 
    <title>JS Regular Expression (Assertions)</title> 
</head> 

<body> 

    <script>
        // In the context of JavaScript regular expressions, "assertions" are special patterns that do not consume characters but instead assert something about the position within the string or the characters around the current position.
        // Assertions don’t actually match characters, they only check conditions about where you are in the string. (lastIndex will not change.)
    </script>

    <script>
        let text = "Hello World Hello"

        console.log("------------------>>> Start From String (^)");

        // "^" matches the beginning of a string.
        console.log(/^Hello/.test(text));   // "Hello" is the beginning string. // Output: true
        console.log(text.match(/^Hello/));                                      // Output: ['Hello']
        console.log(text.match(/^Hello/g));                                     // Output: ['Hello']

        console.log("------------------>>> End From String ($)");

        // "$" matches the end of a string.
        console.log(/Hello$/.test(text));   // "Hello" is the ending string. // Output: true
        console.log(text.match(/Hello$/));                                   // Output: ['Hello']
        console.log(text.match(/Hello$/g));                                  // Output: ['Hello']
    </script>

    <script>
        let textB = "Hello World Hello !"

        console.log("------------------>>> Start & End From Word (\\b)");

        // Syntax: \bx 
        // "\b" matches "x" from the beginning of a word.

        console.log(/\bHe/.test(textB));   // "He" is at the beginning of both word "Hello". // Output: true
        console.log(textB.match(/\bHe/));                                                    // Output: ['He']
        console.log(textB.match(/\bHe/g));                                                   // Output: (2) ['He', 'He']

        // Syntax: x\b 
        // "\b" matches "x" from the end of a word.

        console.log(/llo\b/.test(textB));   // "llo" is at the ending of both word "Hello". // Output: true
        console.log(textB.match(/llo\b/));                                                  // Output: ['llo']
        console.log(textB.match(/llo\b/g));                                                 // Output: (2) ['llo', 'llo']

        console.log("------------------>>> Not Start & End From Word (\\B)");

        // Syntax: \Bx 
        // "\B" match the pattern "x", not at the beginning of a word.

        console.log(/\Bllo/.test(textB));   // "llo" is not at the beginning of both word "Hello". // Output: true
        console.log(textB.match(/\Bllo/));                                                         // Output: ['llo']
        console.log(textB.match(/\Bllo/g));                                                        // Output: (2) ['llo', 'llo']

        // Syntax: x\B 
        // // "\B" match the pattern "x", not at the ending of a word.

        console.log(/He\B/.test(textB));   // "He" is not at the ending of both word "Hello". // Output: true
        console.log(textB.match(/He\B/));                                                     // Output: ['He']
        console.log(textB.match(/He\B/g));                                                    // Output: (2) ['He', 'He']
    </script>

    <script>
        let textS1 = "Hello World !";
        let textS2 = "Test World !";

        console.log("------------------>>> Lookahead - Subsequent String (?=)");

        // Syntax: x(?=y) 
        // Matches "x" only if "x" is followed by "y".

        console.log(/Hello(?= World)/.test(textS1)); // Test there exist "Hello" follow by " World" in string "textS1"? // Output: true
        console.log(/Hello(?= World)/.test(textS2)); // Test there exist "Hello" follow by " World" in string "textS2"? // Output: false

        console.log(textS1.match(/Hello(?= World)/));  // Find the first "Hello" follow by " World" in string "textS1". // Output: ['Hello']
        console.log(textS1.match(/Hello(?= World)/g)); // Find all the "Hello" follow by " World" in string "textS1".   // Output: ['Hello']

        console.log(textS2.match(/Test(?= World)/));  // Find the first "Test" follow by " World" in string "textS2"?. // Output: ['Test']
        console.log(textS2.match(/Test(?= World)/g)); // Find all the "Test" follow by " World" in string "textS2"?.   // Output: ['Test']

        console.log("------------------>>> Negative Lookahead - Not Subsequent String (?!)");

        // Syntax: x(?!y) 
        // Matches "x" if "x" is not followed by "y".

        console.log(/Hello(?! World)/.test(textS1)); // Test there exist "Hello" not follow by " World" in string "textS1"? // Output: false
        console.log(/Hello(?! Test)/.test(textS1));  // Test there exist "Hello" not follow by " Test" in string "textS1"?  // Output: true
        
        console.log(textS1.match(/Hello(?! Test)/));  // Find the first "Hello" not follow by " Test" in string "textS1"?. // Output: ['Hello']
        console.log(textS1.match(/Hello(?! Test)/g)); // Find all the "Hello" not follow by " Test" in string "textS1"?.   // Output: ['Hello']

        console.log("------------------>>> Lookbehind - Previous String (?<=)");

        // Syntax: (?<=y)x
        // Matches "x" only if "x" is behind the "y".

        console.log(/(?<=Hello )World/.test(textS1)); // Test there exist "World" behind the "Hello " in string "textS1"? // Output: true
        console.log(/(?<=Test )World/.test(textS2));  // Test there exist "World" behind the "Test " in string "textS1"?  // Output: true

        console.log(textS1.match(/(?<=Hello )World/));  // Find the first "World" behind the "Hello " in string "textS1"?. // Output: ['World']
        console.log(textS1.match(/(?<=Hello )World/g)); // Find all the "World" behind the "Hello " in string "textS1"?.   // Output: ['World']

        console.log(textS2.match(/(?<=Test )World/));  // Find the first "World" behind the "Test " in string "textS2"?. // Output: ['World']
        console.log(textS2.match(/(?<=Test )World/g)); // Find all the "World" behind the "Test " in string "textS2"?.   // Output: ['World']

        console.log("------------------>>> Negative Lookbehind - Not Previous String (?<!)");

        // Syntax: (?<!y)x 
        // Matches "x" only if "x" is not behind the "y".

        console.log(/(?<!Hello )World/.test(textS1)); // Test there exist "World" not behind the "Hello " in string "textS1"? // Output: false
        console.log(/(?<!Test )World/.test(textS1));  // Test there exist "World" not behind the "Test " in string "textS1"?  // Output: true

        console.log(textS1.match(/(?<!Test )World/));  // Find the first "World" not behind the "Test " in string "textS1"?. // Output: ['World']
        console.log(textS1.match(/(?<!Test )World/g)); // Find all the "World" not behind the "Test " in string "textS1"?.   // Output: ['World']
    </script>
</body> 

</html>